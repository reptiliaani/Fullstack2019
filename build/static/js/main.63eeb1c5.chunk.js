(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(13),o=n.n(s),c=n(3),u=function(e){return r.a.createElement("div",null,"Etsi henkil\xf6: ",r.a.createElement("input",{value:e.newSearch,onChange:function(t){console.log(t.target.value),e.setNewSearch(t.target.value)}}))},l=n(2),m=n.n(l),i="https://immense-tundra-45739.herokuapp.com/api/persons",d=function(){return m.a.get(i).then(function(e){return e.data})},f=function(e){return m.a.post(i,e).then(function(e){return e.data})},w=function(e){return r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n={name:e.newName,number:e.newNumber,id:e.persons.length+1};if(e.persons.filter(function(t){return e.newName===t.name}).length>0){var a=e.persons.find(function(e){return e.name.toLowerCase()===n.name.toLowerCase()}).id;window.confirm("".concat(e.newName,"/").concat(a," is already added to the list, want to change number?"))&&(console.log(a),m.a.put("".concat("https://immense-tundra-45739.herokuapp.com/api/persons","/").concat(a),n).then(function(t){e.setPersons(e.persons.map(function(e){return e.id!==a?e:t.data})),e.setAddedMessage("".concat(e.newName," number changed.")),setTimeout(function(){e.setAddedMessage(null)},3e3),e.setNewName(""),e.setNewNumber("")}).catch(function(){e.setErrorMessage("".concat(e.newName," was already removed from server")),setTimeout(function(){e.setErrorMessage(null)},3e3)}))}else f(n).then(function(t){e.setPersons(e.persons.concat(t)),e.setAddedMessage("".concat(e.newName," was added to the list")),setTimeout(function(){e.setAddedMessage(null)},3e3),e.setNewName(""),e.setNewNumber("")})}},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:e.newName,onChange:function(t){e.setNewName(t.target.value)}})),r.a.createElement("div",null,"numero:",r.a.createElement("input",{value:e.newNumber,onChange:function(t){e.setNewNumber(t.target.value)}})),r.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))},p=function(e){var t=e.newSearch?e.persons.filter(function(t){return t.name.toLowerCase().includes(e.newSearch.toLowerCase())}):e.persons;return r.a.createElement("ul",null,t.map(function(t){return r.a.createElement("li",{key:t.id},t.name," ",t.number," ",r.a.createElement("button",{onClick:function(){return function(t){window.confirm("Do you really want to remove ".concat(t.name))&&(m.a.delete("".concat("https://immense-tundra-45739.herokuapp.com/api/persons","/").concat(t.id)).then(function(n){e.setPersons(e.persons.filter(function(e){return e.id!==t.id}))}).catch(function(){e.setErrorMessage("".concat(t.name," was already removed from server")),setTimeout(function(){e.setErrorMessage(null)},5e3)}),e.setErrorMessage("".concat(t.name," was removed from the list")),setTimeout(function(){e.setErrorMessage(null)},3e3))}(t)}},"delete")," ")}))},h=(n(37),function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"error"},t)}),g=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"added"},t)},E=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],s=t[1],o=Object(a.useState)(""),l=Object(c.a)(o,2),m=l[0],i=l[1],f=Object(a.useState)(""),E=Object(c.a)(f,2),b=E[0],N=E[1],v=Object(a.useState)(""),M=Object(c.a)(v,2),S=M[0],j=M[1],O=Object(a.useState)(null),k=Object(c.a)(O,2),y=k[0],C=k[1],A=Object(a.useState)(null),P=Object(c.a)(A,2),T=P[0],L=P[1];return Object(a.useEffect)(function(){d().then(function(e){s(e)})},[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(h,{message:y}),r.a.createElement(g,{message:T}),r.a.createElement(u,{newSearch:S,setNewSearch:j}),r.a.createElement("h2",null,"Add a new number"),r.a.createElement(w,{persons:n,setPersons:s,newName:m,setNewNumber:N,newNumber:b,setNewName:i,addMessage:T,setAddedMessage:L,errorMessage:y,setErrorMessage:C}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(p,{persons:n,setPersons:s,newSearch:S,errorMessage:y,setErrorMessage:C}))};o.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.63eeb1c5.chunk.js.map