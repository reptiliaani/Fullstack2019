{"version":3,"sources":["components/filter.js","services/persons.js","components/NewNumber.js","components/Persons.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","newSearch","onChange","event","console","log","target","setNewSearch","baseUrl","services_persons","axios","get","then","response","data","newObject","post","NewNumber","onSubmit","preventDefault","personObject","name","newName","number","newNumber","id","persons","length","filter","person","yui","find","toFind","toLowerCase","window","confirm","concat","put","r","setPersons","map","setAddedMessage","setTimeout","setNewName","setNewNumber","catch","setErrorMessage","personService","returnedPerson","type","Persons","personsToShow","includes","key","onClick","delete","p","destroy","Notification","_ref","message","className","Added","_ref2","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","errorMessage","_useState11","_useState12","addMessage","useEffect","App_Notification","App_Added","components_NewNumber","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.63eeb1c5.chunk.js","sourcesContent":["import React from 'react'\nconst Filter = (props) => {\n    \n    const handleSearchChange = (event) => {\n        console.log(event.target.value)\n        props.setNewSearch(event.target.value)\n    }\n    \n    return(\n        <div>\n          Etsi henkilö: <input value={props.newSearch} onChange={handleSearchChange}/>\n        </div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = 'https://immense-tundra-45739.herokuapp.com/api/persons'\n\n    const getAll = () => {\n        const request = axios.get(baseUrl)\n        return request.then(response => response.data)\n    }\n      \n      const create = newObject => {\n        const request = axios.post(baseUrl, newObject)\n        return request.then(response => response.data)\n    }\nexport default {getAll, create}","import React from 'react'\nimport personService from '../services/persons'\nimport axios from 'axios'\nconst baseUrl = 'https://immense-tundra-45739.herokuapp.com/api/persons'\n\nconst NewNumber = (props) =>{\n    const valid = () => props.persons.filter(person => \n        props.newName === person.name\n        )\n    \n    const addName = (event) => {\n        event.preventDefault()\n        const personObject = {\n          name: props.newName,\n          number: props.newNumber,\n          id: props.persons.length + 1,\n        }\n        if(valid().length > 0){\n            const yui = props.persons.find(toFind => toFind.name.toLowerCase() === personObject.name.toLowerCase()).id\n            if(window.confirm(`${props.newName}/${yui} is already added to the list, want to change number?`)){\n                console.log(yui)\n                axios.put(`${baseUrl}/${yui}`, personObject).then(r => {\n                    props.setPersons(props.persons.map(person => person.id !== yui ? person:r.data))\n                    props.setAddedMessage(\n                        `${props.newName} number changed.`\n                      )\n                      setTimeout(() => {\n                        props.setAddedMessage(null)\n                      }, 3000)\n                    props.setNewName('')\n                    props.setNewNumber('')\n                })\n                .catch( () => {\n                    props.setErrorMessage(\n                      `${props.newName} was already removed from server`\n                    )\n                    setTimeout(() => {\n                      props.setErrorMessage(null)\n                    }, 3000)\n                  })\n            }\n        }else{\n            personService\n            .create(personObject).then(returnedPerson => {\n                props.setPersons(props.persons.concat(returnedPerson))\n                props.setAddedMessage(\n                    `${props.newName} was added to the list`\n                  )\n                  setTimeout(() => {\n                    props.setAddedMessage(null)\n                  }, 3000)\n                  props.setNewName('')\n                  props.setNewNumber('')\n            })    \n        }\n      \n        }\n    const handleNameChange = (event) => {\n        props.setNewName(event.target.value)\n           \n    }\n    const handleNumberChange = (event) => {\n        props.setNewNumber(event.target.value)\n    }\n    return(\n        <form  onSubmit={addName} >\n            <div>\n                nimi: <input \n                value={props.newName} \n                onChange={handleNameChange}\n                />\n            </div>\n            <div>\n                numero:  \n                <input \n                value={props.newNumber}\n                onChange={handleNumberChange}/>\n            </div>\n            <button type=\"submit\">lisää</button>\n        </form>\n    )\n}\nexport default NewNumber","import React from 'react'\nimport axios from 'axios'\nconst baseUrl = 'https://immense-tundra-45739.herokuapp.com/api/persons'\n\nconst Persons = (props) =>{\n  \n    const personsToShow = !props.newSearch\n    ? props.persons\n    : props.persons.filter(person => \n        person.name.toLowerCase().includes(props.newSearch.toLowerCase()))\n\n    const destroy = (person) => {\n\n     if (window.confirm(`Do you really want to remove ${person.name}`)) { \n        axios.delete(`${baseUrl}/${person.id}`)\n          .then(response => {\n            props.setPersons(props.persons.filter(p => p.id !== person.id ))\n          })\n          .catch( () => {\n            props.setErrorMessage(\n              `${person.name} was already removed from server`\n            )\n            setTimeout(() => {\n              props.setErrorMessage(null)\n            }, 5000)\n          })\n          props.setErrorMessage(\n            `${person.name} was removed from the list`\n          )\n          setTimeout(() => {\n            props.setErrorMessage(null)\n          }, 3000)\n          \n      }\n    }\n    const rows = () => personsToShow.map( person => {\n      return(\n        <li key={person.id}>{person.name} {person.number} <button onClick={() => destroy(person)}>delete</button> </li> \n      )\n    })\n    return(\n        <ul>\n            {rows()}\n        </ul>\n    )\n}\nexport default Persons","import React, { useState, useEffect } from 'react'\nimport Filter from './components/filter'\nimport NewNumber from './components/NewNumber'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport './index.css'\nconst Notification=({message}) => {\n  if(message === null){\n    return null\n  }\n  return(\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\nconst Added =({message})=>{\n  if(message === null){\n    return null\n  }\n  return(\n    <div className=\"added\">\n      {message}\n    </div>\n  )\n}\nconst App = () => {\n    const [ persons, setPersons] = useState([]) \n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber] = useState('')\n    const [ newSearch, setNewSearch] = useState('')\n    const [ errorMessage, setErrorMessage] = useState(null)\n    const [ addMessage, setAddedMessage] = useState(null)\n    \n    \n    useEffect(() => {\n      personService\n        .getAll().then(data => {\n          setPersons(data)\n      })\n    }, [])\n    \n    return (\n        <div>\n            <h1>Phonebook</h1>\n              <Notification message= {errorMessage}/>\n              <Added message= {addMessage}/>\n              <Filter newSearch={newSearch} setNewSearch={setNewSearch}/>\n            <h2>Add a new number</h2>\n              <NewNumber persons={persons} setPersons={setPersons} \n              newName={newName} setNewNumber={setNewNumber}\n              newNumber={newNumber} setNewName={setNewName}\n              addMessage={addMessage} setAddedMessage={setAddedMessage}\n              errorMessage={errorMessage} setErrorMessage={setErrorMessage}/>\n            <h2>Numbers</h2>\n              <Persons persons={persons} setPersons={setPersons} newSearch={newSearch} \n                errorMessage={errorMessage} setErrorMessage={setErrorMessage}/>\n              \n    </div>\n  )\n}\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}